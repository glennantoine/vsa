  version: 1
  frontend:
    phases:
      preBuild:
        commands:
          - npm ci
      build:
        commands:
          - npm run build -- --configuration production
    artifacts:
      baseDirectory: dist/aviation-cto
      files:
        - '**/*'
    cache:
      paths:
        - node_modules/**/*
    customHeaders:
      - pattern: '**/*.html'
        headers:
          - key: 'Cache-Control'
            value: 'max-age=0, no-cache, no-store, must-revalidate'
      - pattern: 'static/**/*'
        headers:
          - key: 'Cache-Control'
            value: 'public, max-age=31536000, immutable'